# web1_Oracle✍️
**웹개발 (2023.06.12.~2023.11.07.) 강의에서 공부한 Oracle 내용**입니다.

readme 파일에 목차 및 내용 정리해두었으니 참고 부탁드립니다.

감사합니다.🥰


<br><br>

## 📝 Day01
> ### DB: Database
> **데이터가 모여있는 기지**

<br>

> #### DBMS: Database Management System
> DB를 관리할 수 있는 구체적인 시스템  
> 예) 오라클, (마리아DB, MySQL,) MS-SQL, MongoDB - 몽구스, ...  

<br>

**📌 MongoDB: noSQL**
- 스키마가 없다. 표가 없다.
- K,V 형태로만 짜여져 있다.
- 따라서 속도가 빠르다.

<br>

> #### scott 계정 활성화
> sqlplus system/1234  
> SQL> @C:\oraclexe\app\oracle\product\11.2.0\server\rdbms\admin\scott.sql  
> SQL> show user  
> USER is "SCOTT"
>  SQL> conn system/1234  
> SQL> alter user scott identified by 1234;  
> SQL> conn scott/1234  
> SQL> show user  
> USER is "SCOTT"  

<br>

|DBMS의 소통 방식|
|:---:|
|사용자|
|↕|
|응용프로그램|
|↕|
|DBMS|

<br>

> #### RDBMS: Relation Database Management System: 관계형 데이터 베이스 시스템
> 테이블끼리 서로 관계를 맺는다.

<br>

```oracle
Table A (USER, INFOMATION, CUSTOMER)
Table B (ORDER)
```
```
번호(PK)   이름     나이   아이디(UK)   주문번호(PK)   번호(FK)     날짜      상품수량
  1        이도은   20     lde1234     20230705001       3      2023-07-05     5
  2        김홍준   21     khj6666     20230705002       4      2023-07-05     100
  3        박민수   22     pms7777     20230703001       1      2023-07-03     35
  4        한동석   18     hds1234     20230703002       1      2023-07-03     15
  5        임준영   19     ljy7878     20230703003       1      2023-07-03     25
```

<br>

- 하나의 정보를 행, 하나의 집합을 열
- **PK**: primary Key: 구분점, 중복이 있으면 안된다.
  - 고유한 값
  - 각 행의 구분점으로 사용된다.
  - 중복이 없고 NULL을 허용하지 않는다.
    - NULL: 아직 어떤 값을 넣을지 모르겠다는 의미로 넣는 값
- **FK**: Foreigner Key: 외부 테이블 구분점
  - 다른 테이블의 PK를 의미
  - 보통 테이블끼리 관계를 맺을 때 사용한다.
  - 중복이 가능하고 NULL도 허용한다.
- **UK**: UNIQUE KEY
  - NULL은 허용하지만 중복은 허용하지 않는다.
- **COLUMN**(열, 속성, 필드): 공통된 값들의 주제
- **ROW**(행, 레코드, 튜플): 하나의 정보

<br>

**📌 Schema**
- 위와 같은 구조를 가지는 것을 Schema, Table, Relation(Oracle), Class 라고 부른다.
- No Schema: 스키마가 없는

<br>

> ### SQL: Structure Query Language

<br>

**📌 컴파일 언어와 인터프리트 언어**
> #### Compile: 컴파일
- 한번에(한페이지): 웹개발(java, python)
- 파일 단위로 해석한다.(일괄처리)
- 수정이 거의 없을 때 효율적이다.

<br>

> #### Interpret: 인터프리트
- 한줄씩: AI(잦은 수정 -> python)
- 한 줄 단위로 해석한다.(개별처리)
- 빈번한 수정 또는 부분 실행시 효율적이다.

<br>

**Python: 인터프리터 안에 컴파일러가 있다.**

<br>

> #### SQL문(쿼리문) - 스크립트 언어(인터프러터 언어)
> DBMS와 소통하는 언어

<br>

> #### DDL:Data Definition Lauguage: 데이터 정의어
> - 테이블 만드는 것(명령어들)
> - 테이블 조작, 제어 관련 쿼리문
> - 복구가 안됨

<br>

**1. CREATE : 테이블 생성**
- REATE TABLE [테이블명]( [컬럼명] [자료형(용량)] [제약조건], ... );

<br>

**2. DROP : 테이블 삭제**
- DROP TABLE [테이블명]

<br>

**3. ALTER : 테이블 수정**
- 테이블명 수정 : RENAME TO [새로운 테이블명]
- 컬럼 추가 : ADD([새로운 컬럼명] [자료형(용량)])
- 컬럼명 변경 : RENAME COLUMN [기존 컬럼명] TO [새로운 컬럼명]
- 컬럼 삭제 : DROP COLUMN [기존 컬럼명]
- 컬럼 수정 : MODIFY([기존 컬럼명] [자료형(용량)])

<br>

**4. TRUNCATE : 테이블 내용 전체 삭제**
- TRUNCATE TABLE [테이블명]

<br>

> #### Type: 자료형
> ✨ 용량은 항상 넉넉하게 주도록 한다.

- 숫자
  -  NUMBER(precision) : 정수
  -  NUMBER(precision, 소수점 자리수) : 실수
-  문자열
  -  CHAR(용량) : 고정형
    -  CHAR(4)에 'A'를 넣으면 A^^^ 빈 자리가 공백으로 채워진다.
    -  형식을 정한 날짜, 주민등록번호처럼 글자 수가 절대 변하지 않는 값을 넣는다.
-  VARCHAR(용량), **VARCHAR2(용량)** : 가변형
  -  값의 길이 만큼 공간이 배정된다.
  -  글자 수에 변화가 있는 값 넣는다.
-  날짜
  -  DATE : FORMAT에 맞춰서 날짜를 저장하는 타입

<br>

> #### DML(백엔드): CRUD
> #### DCL(x): 권한 주는 것(백엔드 업무가 아님)
> #### TCL: DML을 반영하고 문제 생기면 복구

<br>


```
Script: ctrl + ]
이름 변경: F2
글자크기 변경: fn + C + +
ctrl + enter: 실행
테이블 명이 ORACLE 에서 사용하는 KEYWORD 일 수도 있기 때문에 앞에 TBL(TABLE)을 붙여준다.
```

<br>

> #### 무결성
> 데이터의 정확성, 일관성, 유효성이 유지되는 것
- 정확성: 데이터는 애매하지 않아야 한다.
- 일관성: 각 사용자가 일관된 데이터를 볼 수 있도록 해야 한다.
- 유효성: 데이터가 실제 존재하는 데이터여야 한다.

<br><br>

## 📝 Day02
> ### Modeling: 모델링
> 추상적인 주제를 db에 맞게 설계하는 것
1. 요구사항 분석
- 회원, 주문, 상품 : 3가지를 관리하고자 한다.

2. 개념적 설계(개념 모델링)
```
   회원        주문         상품
   ----------------------------------
   번호       주문번호     상품번호
   ----------------------------------
   비밀번호   주문날짜     상품명
   이름       회원번호     가격
   주소       상품번호     재고량
   이메일
   생일
   아이디
```

3. 논리적 설계(논리 모델링)
```
   회원            주문         상품
   ----------------------------------------
   번호PK        주문번호PK     상품번호PK
   ----------------------------------------
   비밀번호      주문날짜       상품명
   이름          회원번호FK     가격
   주소          상품번호FK     재고량
   이메일
   생일
   아이디UK
```

4. 물리적 설계(물리 모델링)
```
   TBL_USER
   -----------------------
   id : NUMBER PRIMARY KEY
   -----------------------
   user_id : VARCHAR2(1000)
   user_pw : VARCHAR2(1000)
   user_address : VARCHAR2(2000)
   user_email : VARCHAR2(2000) : UNIQUE
   user_birth : DATE

   TBL_ORDER

   TBL_PRODUCT
```

5. 구현

<br><br>

## 📝 Day03
> ### DDL
> #### 정규화: 규칙이 정해져 있다.
- 삽입/수정/삭제의 이상현상(중복된 데이터때문)을 제거하기 위한 작업
- 데이터의 중복을 최소화하는 데에 목적이 있다.
- 5차 정규화까지 있으나(테이블이 너무 많이 쪼개진다.) 보통은 3차 정규화까지만 진행한다.

<br>

> #### 1차 정규화
> 같은 성격과 내용의 컬럼이 연속적으로 나타날 경우.
```
  상품명
	와이셔츠1, 와이셔츠, 와이셔츠3

	상품명1	상품명2	상품명3
	와이셔츠1 와이셔츠2 와이셔츠3

	상품명
	와이셔츠1
	와이셔츠2
	와이셔츠3
```

<br>

> #### 2차 정규화
> 조합키(복합키)로 구성되었을 경우 조합키의 일부분에만 종속되는 속성이 있을 경우(부분 종속)
- 하나만 있어도 다른 컬럼 내용을 알 수 있으면 안된다.
- 그것은 다른 테이블로 빼준다.(분리)
- 후에 연결해줘야 한다. FK 설정
- 분리해준 테이블이 PK, 원래 테이블이 FK
```
꽃
   	이름   	  색상      꽃말   과
  	해바라기  노란색    행운   국화
   	장미   	  빨간색    사랑   장미
```
**⬇️ 2차 정규화 진행**: 조합키 + 조합키가 모두 있어야 알 수 있는 컬럼만 둔다.
```
    꽃
   	이름   	  색상     꽃말
   	해바라기  노란색   행운
   	장미  	  빨간색   사랑

   	과
   	이름   	  과
   	해바라기  국화
  	장미      장미

```

<br>

> #### 3차 정규화
> PK가 아닌 컬럼이 다른 컬럼을 결정하는 경우
- PK 말고 다른 컬럼이 다른 컬럼을 결정하면 안된다.
- 이행함수 종속 제거
- 다른 컬럼을 다른 테이블의 PK로!
- 너무 자주 조회되는 테이블은 반정규화로 다시 합친다.







